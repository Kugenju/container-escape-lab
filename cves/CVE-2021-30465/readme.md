### 问题解决方案

1. 
**runc 二进制文件格式不兼容 (Exec Format Error)** ：


* 这个错误意味着系统无法执行 `/usr/sbin/runc` 文件。最可能的原因是你下载的 `runc.amd64` 与你当前的系统架构不匹配。
* 例如：你在 **ARM 架构**（如 Apple Silicon M1/M2 的虚拟机或树莓派）上尝试运行 **AMD64 (x86_64)** 版本的 `runc`。
* 或者：之前的 `wget` 下载由于网络中断只下载了一个残缺的文件或 HTML 错误页面，导致文件损坏。


2. 
**runc 版本显示为空** ：


* 日志中 `[+] 当前 runc 版本:` 后面没有内容，这说明替换后的 `runc` 文件根本无法运行（无法响应 `--version` 命令），因此 Docker 在构建镜像需要调用 `runc` 创建容器时直接崩溃了。



### 解决方案

#### 第一步：确认系统架构

在终端输入以下命令：

```bash
uname -m

```

* 如果显示 `x86_64`，说明你需要 `amd64` 版本。
* 如果显示 `aarch64` 或 `arm64`，说明你需要下载 `arm64` 版本的 `runc`。

#### 第二步：重新正确下载对应的 runc

请根据你的架构，手动下载对应版本并替换（以 `rc92` 为例）：

**如果架构是 x86_64:**

```bash
sudo wget https://github.com/opencontainers/runc/releases/download/v1.0.0-rc92/runc.amd64 -O /usr/sbin/runc

```

**如果架构是 ARM64:**

```bash
sudo wget https://github.com/opencontainers/runc/releases/download/v1.0.0-rc92/runc.arm64 -O /usr/sbin/runc

```

#### 第三步：修复文件并验证

替换后，**必须**先手动验证 `runc` 是否可用，再运行脚本：

1. **赋予执行权限**：
```bash
sudo chmod +x /usr/sbin/runc

```


2. **验证版本**：
```bash
runc --version

```


* 如果依然报错 `exec format error`，说明下载的文件依然不对。
* 如果显示 `runc version 1.0.0-rc92`，则可以继续。


3. **重启 Docker 服务**：
替换底层运行运行时后，建议重启服务：
```bash
sudo systemctl restart docker

```

